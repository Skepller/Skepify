!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).jpegJs=r()}}((function(){return function r(t,e,n){function o(f,a){if(!e[f]){if(!t[f]){var s="function"==typeof require&&require;if(!a&&s)return s(f,!0);if(i)return i(f,!0);var u=new Error("Cannot find module '"+f+"'");throw u.code="MODULE_NOT_FOUND",u}var h=e[f]={exports:{}};t[f][0].call(h.exports,(function(r){return o(t[f][1][r]||r)}),h,h.exports,r,t,e,n)}return e[f].exports}for(var i="function"==typeof require&&require,f=0;f<n.length;f++)o(n[f]);return o}({1:[function(r,t,e){"use strict";e.byteLength=function(r){var t=u(r),e=t[0],n=t[1];return 3*(e+n)/4-n},e.toByteArray=function(r){var t,e,n=u(r),f=n[0],a=n[1],s=new i(function(r,t,e){return 3*(t+e)/4-e}(0,f,a)),h=0,c=a>0?f-4:f;for(e=0;e<c;e+=4)t=o[r.charCodeAt(e)]<<18|o[r.charCodeAt(e+1)]<<12|o[r.charCodeAt(e+2)]<<6|o[r.charCodeAt(e+3)],s[h++]=t>>16&255,s[h++]=t>>8&255,s[h++]=255&t;2===a&&(t=o[r.charCodeAt(e)]<<2|o[r.charCodeAt(e+1)]>>4,s[h++]=255&t);1===a&&(t=o[r.charCodeAt(e)]<<10|o[r.charCodeAt(e+1)]<<4|o[r.charCodeAt(e+2)]>>2,s[h++]=t>>8&255,s[h++]=255&t);return s},e.fromByteArray=function(r){for(var t,e=r.length,o=e%3,i=[],f=0,a=e-o;f<a;f+=16383)i.push(h(r,f,f+16383>a?a:f+16383));1===o?(t=r[e-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(r[e-2]<<8)+r[e-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=f.length;a<s;++a)n[a]=f[a],o[f.charCodeAt(a)]=a;function u(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function h(r,t,e){for(var o,i,f=[],a=t;a<e;a+=3)o=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),f.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return f.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(r,t,e){(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var n=r("base64-js"),o=r("ieee754"),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=t,e.SlowBuffer=function(r){+r!=r&&(r=0);return t.alloc(+r)},e.INSPECT_MAX_BYTES=50;var f=2147483647;function a(r){if(r>f)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,t.prototype),e}function t(r,t,e){if("number"==typeof r){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(r)}return s(r,t,e)}function s(r,e,n){if("string"==typeof r)return function(r,e){"string"==typeof e&&""!==e||(e="utf8");if(!t.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|p(r,e),o=a(n),i=o.write(r,e);i!==n&&(o=o.slice(0,i));return o}(r,e);if(ArrayBuffer.isView(r))return c(r);if(null==r)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(N(r,ArrayBuffer)||r&&N(r.buffer,ArrayBuffer))return function(r,e,n){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var o;o=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n);return Object.setPrototypeOf(o,t.prototype),o}(r,e,n);if("number"==typeof r)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=r.valueOf&&r.valueOf();if(null!=o&&o!==r)return t.from(o,e,n);var i=function(r){if(t.isBuffer(r)){var e=0|l(r.length),n=a(e);return 0===n.length?n:(r.copy(n,0,0,e),n)}if(void 0!==r.length)return"number"!=typeof r.length||_(r.length)?a(0):c(r);if("Buffer"===r.type&&Array.isArray(r.data))return c(r.data)}(r);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof r[Symbol.toPrimitive])return t.from(r[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}function u(r){if("number"!=typeof r)throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function h(r){return u(r),a(r<0?0:0|l(r))}function c(r){for(var t=r.length<0?0:0|l(r.length),e=a(t),n=0;n<t;n+=1)e[n]=255&r[n];return e}function l(r){if(r>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|r}function p(r,e){if(t.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||N(r,ArrayBuffer))return r.byteLength;if("string"!=typeof r)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var n=r.length,o=arguments.length>2&&!0===arguments[2];if(!o&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return D(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(r).length;default:if(i)return o?-1:D(r).length;e=(""+e).toLowerCase(),i=!0}}function y(r,t,e){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(t>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return L(this,t,e);case"utf8":case"utf-8":return U(this,t,e);case"ascii":return x(this,t,e);case"latin1":case"binary":return C(this,t,e);case"base64":return B(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}function v(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function g(r,e,n,o,i){if(0===r.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),_(n=+n)&&(n=i?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(i)return-1;n=r.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=t.from(e,o)),t.isBuffer(e))return 0===e.length?-1:d(r,e,n,o,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(r,e,n):Uint8Array.prototype.lastIndexOf.call(r,e,n):d(r,[e],n,o,i);throw new TypeError("val must be string, number or Buffer")}function d(r,t,e,n,o){var i,f=1,a=r.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(r.length<2||t.length<2)return-1;f=2,a/=2,s/=2,e/=2}function u(r,t){return 1===f?r[t]:r.readUInt16BE(t*f)}if(o){var h=-1;for(i=e;i<a;i++)if(u(r,i)===u(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===s)return h*f}else-1!==h&&(i-=i-h),h=-1}else for(e+s>a&&(e=a-s),i=e;i>=0;i--){for(var c=!0,l=0;l<s;l++)if(u(r,i+l)!==u(t,l)){c=!1;break}if(c)return i}return-1}function w(r,t,e,n){e=Number(e)||0;var o=r.length-e;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;n>i/2&&(n=i/2);for(var f=0;f<n;++f){var a=parseInt(t.substr(2*f,2),16);if(_(a))return f;r[e+f]=a}return f}function m(r,t,e,n){return Y(D(t,r.length-e),r,e,n)}function b(r,t,e,n){return Y(function(r){for(var t=[],e=0;e<r.length;++e)t.push(255&r.charCodeAt(e));return t}(t),r,e,n)}function A(r,t,e,n){return b(r,t,e,n)}function E(r,t,e,n){return Y(X(t),r,e,n)}function T(r,t,e,n){return Y(function(r,t){for(var e,n,o,i=[],f=0;f<r.length&&!((t-=2)<0);++f)e=r.charCodeAt(f),n=e>>8,o=e%256,i.push(o),i.push(n);return i}(t,r.length-e),r,e,n)}function B(r,t,e){return 0===t&&e===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(t,e))}function U(r,t,e){e=Math.min(r.length,e);for(var n=[],o=t;o<e;){var i,f,a,s,u=r[o],h=null,c=u>239?4:u>223?3:u>191?2:1;if(o+c<=e)switch(c){case 1:u<128&&(h=u);break;case 2:128==(192&(i=r[o+1]))&&(s=(31&u)<<6|63&i)>127&&(h=s);break;case 3:i=r[o+1],f=r[o+2],128==(192&i)&&128==(192&f)&&(s=(15&u)<<12|(63&i)<<6|63&f)>2047&&(s<55296||s>57343)&&(h=s);break;case 4:i=r[o+1],f=r[o+2],a=r[o+3],128==(192&i)&&128==(192&f)&&128==(192&a)&&(s=(15&u)<<18|(63&i)<<12|(63&f)<<6|63&a)>65535&&s<1114112&&(h=s)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),o+=c}return function(r){var t=r.length;if(t<=k)return String.fromCharCode.apply(String,r);var e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=k));return e}(n)}e.kMaxLength=f,t.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),42===r.foo()}catch(r){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(r,t,e){return s(r,t,e)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(r,t,e){return function(r,t,e){return u(r),r<=0?a(r):void 0!==t?"string"==typeof e?a(r).fill(t,e):a(r).fill(t):a(r)}(r,t,e)},t.allocUnsafe=function(r){return h(r)},t.allocUnsafeSlow=function(r){return h(r)},t.isBuffer=function(r){return null!=r&&!0===r._isBuffer&&r!==t.prototype},t.compare=function(r,e){if(N(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),N(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(r)||!t.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;for(var n=r.length,o=e.length,i=0,f=Math.min(n,o);i<f;++i)if(r[i]!==e[i]){n=r[i],o=e[i];break}return n<o?-1:o<n?1:0},t.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return t.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<r.length;++n)e+=r[n].length;var o=t.allocUnsafe(e),i=0;for(n=0;n<r.length;++n){var f=r[n];if(N(f,Uint8Array)&&(f=t.from(f)),!t.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(o,i),i+=f.length}return o},t.byteLength=p,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)v(this,t,t+1);return this},t.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},t.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},t.prototype.toString=function(){var r=this.length;return 0===r?"":0===arguments.length?U(this,0,r):y.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(r){if(!t.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||0===t.compare(this,r)},t.prototype.inspect=function(){var r="",t=e.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"},i&&(t.prototype[i]=t.prototype.inspect),t.prototype.compare=function(r,e,n,o,i){if(N(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(void 0===e&&(e=0),void 0===n&&(n=r?r.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),e<0||n>r.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&e>=n)return 0;if(o>=i)return-1;if(e>=n)return 1;if(this===r)return 0;for(var f=(i>>>=0)-(o>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(f,a),u=this.slice(o,i),h=r.slice(e,n),c=0;c<s;++c)if(u[c]!==h[c]){f=u[c],a=h[c];break}return f<a?-1:a<f?1:0},t.prototype.includes=function(r,t,e){return-1!==this.indexOf(r,t,e)},t.prototype.indexOf=function(r,t,e){return g(this,r,t,e,!0)},t.prototype.lastIndexOf=function(r,t,e){return g(this,r,t,e,!1)},t.prototype.write=function(r,t,e,n){if(void 0===t)n="utf8",e=this.length,t=0;else if(void 0===e&&"string"==typeof t)n=t,e=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(e)?(e>>>=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var o=this.length-t;if((void 0===e||e>o)&&(e=o),r.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return w(this,r,t,e);case"utf8":case"utf-8":return m(this,r,t,e);case"ascii":return b(this,r,t,e);case"latin1":case"binary":return A(this,r,t,e);case"base64":return E(this,r,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,r,t,e);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function x(r,t,e){var n="";e=Math.min(r.length,e);for(var o=t;o<e;++o)n+=String.fromCharCode(127&r[o]);return n}function C(r,t,e){var n="";e=Math.min(r.length,e);for(var o=t;o<e;++o)n+=String.fromCharCode(r[o]);return n}function L(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var o="",i=t;i<e;++i)o+=z[r[i]];return o}function I(r,t,e){for(var n=r.slice(t,e),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function O(r,t,e){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}function P(r,e,n,o,i,f){if(!t.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<f)throw new RangeError('"value" argument is out of bounds');if(n+o>r.length)throw new RangeError("Index out of range")}function S(r,t,e,n,o,i){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function M(r,t,e,n,i){return t=+t,e>>>=0,i||S(r,0,e,4),o.write(r,t,e,n,23,4),e+4}function R(r,t,e,n,i){return t=+t,e>>>=0,i||S(r,0,e,8),o.write(r,t,e,n,52,8),e+8}t.prototype.slice=function(r,e){var n=this.length;(r=~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<r&&(e=r);var o=this.subarray(r,e);return Object.setPrototypeOf(o,t.prototype),o},t.prototype.readUIntLE=function(r,t,e){r>>>=0,t>>>=0,e||O(r,t,this.length);for(var n=this[r],o=1,i=0;++i<t&&(o*=256);)n+=this[r+i]*o;return n},t.prototype.readUIntBE=function(r,t,e){r>>>=0,t>>>=0,e||O(r,t,this.length);for(var n=this[r+--t],o=1;t>0&&(o*=256);)n+=this[r+--t]*o;return n},t.prototype.readUInt8=function(r,t){return r>>>=0,t||O(r,1,this.length),this[r]},t.prototype.readUInt16LE=function(r,t){return r>>>=0,t||O(r,2,this.length),this[r]|this[r+1]<<8},t.prototype.readUInt16BE=function(r,t){return r>>>=0,t||O(r,2,this.length),this[r]<<8|this[r+1]},t.prototype.readUInt32LE=function(r,t){return r>>>=0,t||O(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},t.prototype.readUInt32BE=function(r,t){return r>>>=0,t||O(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},t.prototype.readIntLE=function(r,t,e){r>>>=0,t>>>=0,e||O(r,t,this.length);for(var n=this[r],o=1,i=0;++i<t&&(o*=256);)n+=this[r+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(r,t,e){r>>>=0,t>>>=0,e||O(r,t,this.length);for(var n=t,o=1,i=this[r+--n];n>0&&(o*=256);)i+=this[r+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},t.prototype.readInt8=function(r,t){return r>>>=0,t||O(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},t.prototype.readInt16LE=function(r,t){r>>>=0,t||O(r,2,this.length);var e=this[r]|this[r+1]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt16BE=function(r,t){r>>>=0,t||O(r,2,this.length);var e=this[r+1]|this[r]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt32LE=function(r,t){return r>>>=0,t||O(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},t.prototype.readInt32BE=function(r,t){return r>>>=0,t||O(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},t.prototype.readFloatLE=function(r,t){return r>>>=0,t||O(r,4,this.length),o.read(this,r,!0,23,4)},t.prototype.readFloatBE=function(r,t){return r>>>=0,t||O(r,4,this.length),o.read(this,r,!1,23,4)},t.prototype.readDoubleLE=function(r,t){return r>>>=0,t||O(r,8,this.length),o.read(this,r,!0,52,8)},t.prototype.readDoubleBE=function(r,t){return r>>>=0,t||O(r,8,this.length),o.read(this,r,!1,52,8)},t.prototype.writeUIntLE=function(r,t,e,n){(r=+r,t>>>=0,e>>>=0,n)||P(this,r,t,e,Math.pow(2,8*e)-1,0);var o=1,i=0;for(this[t]=255&r;++i<e&&(o*=256);)this[t+i]=r/o&255;return t+e},t.prototype.writeUIntBE=function(r,t,e,n){(r=+r,t>>>=0,e>>>=0,n)||P(this,r,t,e,Math.pow(2,8*e)-1,0);var o=e-1,i=1;for(this[t+o]=255&r;--o>=0&&(i*=256);)this[t+o]=r/i&255;return t+e},t.prototype.writeUInt8=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,1,255,0),this[t]=255&r,t+1},t.prototype.writeUInt16LE=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,2,65535,0),this[t]=255&r,this[t+1]=r>>>8,t+2},t.prototype.writeUInt16BE=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=255&r,t+2},t.prototype.writeUInt32LE=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=255&r,t+4},t.prototype.writeUInt32BE=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r,t+4},t.prototype.writeIntLE=function(r,t,e,n){if(r=+r,t>>>=0,!n){var o=Math.pow(2,8*e-1);P(this,r,t,e,o-1,-o)}var i=0,f=1,a=0;for(this[t]=255&r;++i<e&&(f*=256);)r<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(r/f>>0)-a&255;return t+e},t.prototype.writeIntBE=function(r,t,e,n){if(r=+r,t>>>=0,!n){var o=Math.pow(2,8*e-1);P(this,r,t,e,o-1,-o)}var i=e-1,f=1,a=0;for(this[t+i]=255&r;--i>=0&&(f*=256);)r<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(r/f>>0)-a&255;return t+e},t.prototype.writeInt8=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=255&r,t+1},t.prototype.writeInt16LE=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,2,32767,-32768),this[t]=255&r,this[t+1]=r>>>8,t+2},t.prototype.writeInt16BE=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=255&r,t+2},t.prototype.writeInt32LE=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,4,2147483647,-2147483648),this[t]=255&r,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4},t.prototype.writeInt32BE=function(r,t,e){return r=+r,t>>>=0,e||P(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r,t+4},t.prototype.writeFloatLE=function(r,t,e){return M(this,r,t,!0,e)},t.prototype.writeFloatBE=function(r,t,e){return M(this,r,t,!1,e)},t.prototype.writeDoubleLE=function(r,t,e){return R(this,r,t,!0,e)},t.prototype.writeDoubleBE=function(r,t,e){return R(this,r,t,!1,e)},t.prototype.copy=function(r,e,n,o){if(!t.isBuffer(r))throw new TypeError("argument should be a Buffer");if(n||(n=0),o||0===o||(o=this.length),e>=r.length&&(e=r.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===r.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),r.length-e<o-n&&(o=r.length-e+n);var i=o-n;if(this===r&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,o);else if(this===r&&n<e&&e<o)for(var f=i-1;f>=0;--f)r[f+e]=this[f+n];else Uint8Array.prototype.set.call(r,this.subarray(n,o),e);return i},t.prototype.fill=function(r,e,n,o){if("string"==typeof r){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!t.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(1===r.length){var i=r.charCodeAt(0);("utf8"===o&&i<128||"latin1"===o)&&(r=i)}}else"number"==typeof r?r&=255:"boolean"==typeof r&&(r=Number(r));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var f;if(e>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(f=e;f<n;++f)this[f]=r;else{var a=t.isBuffer(r)?r:t.from(r,o),s=a.length;if(0===s)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(f=0;f<n-e;++f)this[f+e]=a[f%s]}return this};var j=/[^+/0-9A-Za-z-_]/g;function D(r,t){var e;t=t||1/0;for(var n=r.length,o=null,i=[],f=0;f<n;++f){if((e=r.charCodeAt(f))>55295&&e<57344){if(!o){if(e>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(f+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(t-=3)>-1&&i.push(239,191,189),o=e;continue}e=65536+(o-55296<<10|e-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((t-=1)<0)break;i.push(e)}else if(e<2048){if((t-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((t-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function X(r){return n.toByteArray(function(r){if((r=(r=r.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(r))}function Y(r,t,e,n){for(var o=0;o<n&&!(o+e>=t.length||o>=r.length);++o)t[o+e]=r[o];return o}function N(r,t){return r instanceof t||null!=r&&null!=r.constructor&&null!=r.constructor.name&&r.constructor.name===t.name}function _(r){return r!=r}var z=function(){for(var r=new Array(256),t=0;t<16;++t)for(var e=16*t,n=0;n<16;++n)r[e+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return r}()}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(r,t,e){e.read=function(r,t,e,n,o){var i,f,a=8*o-n-1,s=(1<<a)-1,u=s>>1,h=-7,c=e?o-1:0,l=e?-1:1,p=r[t+c];for(c+=l,i=p&(1<<-h)-1,p>>=-h,h+=a;h>0;i=256*i+r[t+c],c+=l,h-=8);for(f=i&(1<<-h)-1,i>>=-h,h+=n;h>0;f=256*f+r[t+c],c+=l,h-=8);if(0===i)i=1-u;else{if(i===s)return f?NaN:1/0*(p?-1:1);f+=Math.pow(2,n),i-=u}return(p?-1:1)*f*Math.pow(2,i-n)},e.write=function(r,t,e,n,o,i){var f,a,s,u=8*i-o-1,h=(1<<u)-1,c=h>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,y=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,f=h):(f=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-f))<1&&(f--,s*=2),(t+=f+c>=1?l/s:l*Math.pow(2,1-c))*s>=2&&(f++,s/=2),f+c>=h?(a=0,f=h):f+c>=1?(a=(t*s-1)*Math.pow(2,o),f+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,o),f=0));o>=8;r[e+p]=255&a,p+=y,a/=256,o-=8);for(f=f<<o|a,u+=o;u>0;r[e+p]=255&f,p+=y,f/=256,u-=8);r[e+p-y]|=128*v}},{}],4:[function(r,t,e){var n=r("./lib/encoder"),o=r("./lib/decoder");t.exports={encode:n,decode:o}},{"./lib/decoder":5,"./lib/encoder":6}],5:[function(r,t,e){(function(r){var e=function(){"use strict";var r=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,e=799,n=3406,o=2276,i=1567,f=3784,a=5793,s=2896;function u(){}function h(r,t){for(var e,n,o=0,i=[],f=16;f>0&&!r[f-1];)f--;i.push({children:[],index:0});var a,s=i[0];for(e=0;e<f;e++){for(n=0;n<r[e];n++){for((s=i.pop()).children[s.index]=t[o];s.index>0;)s=i.pop();for(s.index++,i.push(s);i.length<=e;)i.push(a={children:[],index:0}),s.children[s.index]=a.children,s=a;o++}e+1<f&&(i.push(a={children:[],index:0}),s.children[s.index]=a.children,s=a)}return i[0].children}function c(t,e,n,o,i,f,a,s,u){n.precision,n.samplesPerLine,n.scanLines;var h=n.mcusPerLine,c=n.progressive,l=(n.maxH,n.maxV,e),p=0,y=0;function v(){if(y>0)return p>>--y&1;if(255==(p=t[e++])){var r=t[e++];if(r)throw new Error("unexpected marker: "+(p<<8|r).toString(16))}return y=7,p>>>7}function g(r){for(var t,e=r;null!==(t=v());){if("number"==typeof(e=e[t]))return e;if("object"!=typeof e)throw new Error("invalid huffman sequence")}return null}function d(r){for(var t=0;r>0;){var e=v();if(null===e)return;t=t<<1|e,r--}return t}function w(r){var t=d(r);return t>=1<<r-1?t:t+(-1<<r)+1}var m=0;var b,A=0;function E(r,t,e,n,o){var i=e%h,f=(e/h|0)*r.v+n,a=i*r.h+o;t(r,r.blocks[f][a])}function T(r,t,e){var n=e/r.blocksPerLine|0,o=e%r.blocksPerLine;t(r,r.blocks[n][o])}var B,U,k,x,C,L,I=o.length;L=c?0===f?0===s?function(r,t){var e=g(r.huffmanTableDC),n=0===e?0:w(e)<<u;t[0]=r.pred+=n}:function(r,t){t[0]|=v()<<u}:0===s?function(t,e){if(m>0)m--;else for(var n=f,o=a;n<=o;){var i=g(t.huffmanTableAC),s=15&i,h=i>>4;if(0!==s){e[r[n+=h]]=w(s)*(1<<u),n++}else{if(h<15){m=d(h)+(1<<h)-1;break}n+=16}}}:function(t,e){for(var n=f,o=a,i=0;n<=o;){var s=r[n],h=e[s]<0?-1:1;switch(A){case 0:var c=g(t.huffmanTableAC),l=15&c;i=c>>4;if(0===l)i<15?(m=d(i)+(1<<i),A=4):(i=16,A=1);else{if(1!==l)throw new Error("invalid ACn encoding");b=w(l),A=i?2:3}continue;case 1:case 2:e[s]?e[s]+=(v()<<u)*h:0===--i&&(A=2==A?3:0);break;case 3:e[s]?e[s]+=(v()<<u)*h:(e[s]=b<<u,A=0);break;case 4:e[s]&&(e[s]+=(v()<<u)*h)}n++}4===A&&0===--m&&(A=0)}:function(t,e){var n=g(t.huffmanTableDC),o=0===n?0:w(n);e[0]=t.pred+=o;for(var i=1;i<64;){var f=g(t.huffmanTableAC),a=15&f,s=f>>4;if(0!==a){e[r[i+=s]]=w(a),i++}else{if(s<15)break;i+=16}}};var O,P,S,M,R=0;for(P=1==I?o[0].blocksPerLine*o[0].blocksPerColumn:h*n.mcusPerColumn,i||(i=P);R<P;){for(U=0;U<I;U++)o[U].pred=0;if(m=0,1==I)for(B=o[0],C=0;C<i;C++)T(B,L,R),R++;else for(C=0;C<i;C++){for(U=0;U<I;U++)for(S=(B=o[U]).h,M=B.v,k=0;k<M;k++)for(x=0;x<S;x++)E(B,L,R,k,x);if(++R===P)break}if(y=0,(O=t[e]<<8|t[e+1])<65280)throw new Error("marker was not found");if(!(O>=65488&&O<=65495))break;e+=2}return e-l}function l(r,u){var h,c,l=[],p=u.blocksPerLine,y=u.blocksPerColumn,v=p<<3,g=new Int32Array(64),d=new Uint8Array(64);function w(r,h,c){var l,p,y,v,g,d,w,m,b,A,E=u.quantizationTable,T=c;for(A=0;A<64;A++)T[A]=r[A]*E[A];for(A=0;A<8;++A){var B=8*A;0!=T[1+B]||0!=T[2+B]||0!=T[3+B]||0!=T[4+B]||0!=T[5+B]||0!=T[6+B]||0!=T[7+B]?(l=a*T[0+B]+128>>8,p=a*T[4+B]+128>>8,y=T[2+B],v=T[6+B],g=s*(T[1+B]-T[7+B])+128>>8,m=s*(T[1+B]+T[7+B])+128>>8,d=T[3+B]<<4,w=T[5+B]<<4,b=l-p+1>>1,l=l+p+1>>1,p=b,b=y*f+v*i+128>>8,y=y*i-v*f+128>>8,v=b,b=g-w+1>>1,g=g+w+1>>1,w=b,b=m+d+1>>1,d=m-d+1>>1,m=b,b=l-v+1>>1,l=l+v+1>>1,v=b,b=p-y+1>>1,p=p+y+1>>1,y=b,b=g*o+m*n+2048>>12,g=g*n-m*o+2048>>12,m=b,b=d*e+w*t+2048>>12,d=d*t-w*e+2048>>12,w=b,T[0+B]=l+m,T[7+B]=l-m,T[1+B]=p+w,T[6+B]=p-w,T[2+B]=y+d,T[5+B]=y-d,T[3+B]=v+g,T[4+B]=v-g):(b=a*T[0+B]+512>>10,T[0+B]=b,T[1+B]=b,T[2+B]=b,T[3+B]=b,T[4+B]=b,T[5+B]=b,T[6+B]=b,T[7+B]=b)}for(A=0;A<8;++A){var U=A;0!=T[8+U]||0!=T[16+U]||0!=T[24+U]||0!=T[32+U]||0!=T[40+U]||0!=T[48+U]||0!=T[56+U]?(l=a*T[0+U]+2048>>12,p=a*T[32+U]+2048>>12,y=T[16+U],v=T[48+U],g=s*(T[8+U]-T[56+U])+2048>>12,m=s*(T[8+U]+T[56+U])+2048>>12,d=T[24+U],w=T[40+U],b=l-p+1>>1,l=l+p+1>>1,p=b,b=y*f+v*i+2048>>12,y=y*i-v*f+2048>>12,v=b,b=g-w+1>>1,g=g+w+1>>1,w=b,b=m+d+1>>1,d=m-d+1>>1,m=b,b=l-v+1>>1,l=l+v+1>>1,v=b,b=p-y+1>>1,p=p+y+1>>1,y=b,b=g*o+m*n+2048>>12,g=g*n-m*o+2048>>12,m=b,b=d*e+w*t+2048>>12,d=d*t-w*e+2048>>12,w=b,T[0+U]=l+m,T[56+U]=l-m,T[8+U]=p+w,T[48+U]=p-w,T[16+U]=y+d,T[40+U]=y-d,T[24+U]=v+g,T[32+U]=v-g):(b=a*c[A+0]+8192>>14,T[0+U]=b,T[8+U]=b,T[16+U]=b,T[24+U]=b,T[32+U]=b,T[40+U]=b,T[48+U]=b,T[56+U]=b)}for(A=0;A<64;++A){var k=128+(T[A]+8>>4);h[A]=k<0?0:k>255?255:k}}for(var m=0;m<y;m++){var b=m<<3;for(h=0;h<8;h++)l.push(new Uint8Array(v));for(var A=0;A<p;A++){w(u.blocks[m][A],d,g);var E=0,T=A<<3;for(c=0;c<8;c++){var B=l[b+c];for(h=0;h<8;h++)B[T+h]=d[E++]}}}return l}function p(r){return r<0?0:r>255?255:r}return u.prototype={load:function(r){var t=new XMLHttpRequest;t.open("GET",r,!0),t.responseType="arraybuffer",t.onload=function(){var r=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(r),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(t){var e=0;t.length;function n(){var r=t[e]<<8|t[e+1];return e+=2,r}function o(){var r=n(),o=t.subarray(e,e+r-2);return e+=o.length,o}function i(r){var t,e,n=0,o=0;for(e in r.components)r.components.hasOwnProperty(e)&&(n<(t=r.components[e]).h&&(n=t.h),o<t.v&&(o=t.v));var i=Math.ceil(r.samplesPerLine/8/n),f=Math.ceil(r.scanLines/8/o);for(e in r.components)if(r.components.hasOwnProperty(e)){t=r.components[e];for(var a=Math.ceil(Math.ceil(r.samplesPerLine/8)*t.h/n),s=Math.ceil(Math.ceil(r.scanLines/8)*t.v/o),u=i*t.h,h=f*t.v,c=[],l=0;l<h;l++){for(var p=[],y=0;y<u;y++)p.push(new Int32Array(64));c.push(p)}t.blocksPerLine=a,t.blocksPerColumn=s,t.blocks=c}r.maxH=n,r.maxV=o,r.mcusPerLine=i,r.mcusPerColumn=f}var f,a,s=null,u=null,p=[],y=[],v=[],g=[],d=n();if(65496!=d)throw new Error("SOI not found");for(d=n();65497!=d;){switch(d){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=o();65504===d&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(s={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65518===d&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(u={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var m=n()+e-2;e<m;){var b=t[e++],A=new Int32Array(64);if(b>>4==0)for(_=0;_<64;_++){A[r[_]]=t[e++]}else{if(b>>4!=1)throw new Error("DQT: invalid table spec");for(_=0;_<64;_++){A[r[_]]=n()}}p[15&b]=A}break;case 65472:case 65473:case 65474:n(),(f={}).extended=65473===d,f.progressive=65474===d,f.precision=t[e++],f.scanLines=n(),f.samplesPerLine=n(),f.components={},f.componentsOrder=[];var E,T=t[e++];for(Y=0;Y<T;Y++){E=t[e];var B=t[e+1]>>4,U=15&t[e+1],k=t[e+2];f.componentsOrder.push(E),f.components[E]={h:B,v:U,quantizationIdx:k},e+=3}i(f),y.push(f);break;case 65476:var x=n();for(Y=2;Y<x;){var C=t[e++],L=new Uint8Array(16),I=0;for(_=0;_<16;_++,e++)I+=L[_]=t[e];var O=new Uint8Array(I);for(_=0;_<I;_++,e++)O[_]=t[e];Y+=17+I,(C>>4==0?g:v)[15&C]=h(L,O)}break;case 65501:n(),a=n();break;case 65498:n();var P=t[e++],S=[];for(Y=0;Y<P;Y++){z=f.components[t[e++]];var M=t[e++];z.huffmanTableDC=g[M>>4],z.huffmanTableAC=v[15&M],S.push(z)}var R=t[e++],j=t[e++],D=t[e++],X=c(t,e,f,S,a,R,j,D>>4,15&D);e+=X;break;case 65535:255!==t[e]&&e--;break;default:if(255==t[e-3]&&t[e-2]>=192&&t[e-2]<=254){e-=3;break}throw new Error("unknown JPEG marker "+d.toString(16))}d=n()}if(1!=y.length)throw new Error("only single frame JPEGs supported");for(var Y=0;Y<y.length;Y++){var N=y[Y].components;for(var _ in N)N[_].quantizationTable=p[N[_].quantizationIdx],delete N[_].quantizationIdx}this.width=f.samplesPerLine,this.height=f.scanLines,this.jfif=s,this.adobe=u,this.components=[];for(Y=0;Y<f.componentsOrder.length;Y++){var z=f.components[f.componentsOrder[Y]];this.components.push({lines:l(0,z),scaleX:z.h/f.maxH,scaleY:z.v/f.maxV})}},getData:function(r,t){var e,n,o,i,f,a,s,u,h,c,l,y,v,g,d,w,m,b,A,E,T,B=this.width/r,U=this.height/t,k=0,x=r*t*this.components.length,C=new Uint8Array(x);switch(this.components.length){case 1:for(e=this.components[0],c=0;c<t;c++)for(f=e.lines[0|c*e.scaleY*U],h=0;h<r;h++)l=f[0|h*e.scaleX*B],C[k++]=l;break;case 2:for(e=this.components[0],n=this.components[1],c=0;c<t;c++)for(f=e.lines[0|c*e.scaleY*U],a=n.lines[0|c*n.scaleY*U],h=0;h<r;h++)l=f[0|h*e.scaleX*B],C[k++]=l,l=a[0|h*n.scaleX*B],C[k++]=l;break;case 3:for(T=!0,this.adobe&&this.adobe.transformCode?T=!0:void 0!==this.colorTransform&&(T=!!this.colorTransform),e=this.components[0],n=this.components[1],o=this.components[2],c=0;c<t;c++)for(f=e.lines[0|c*e.scaleY*U],a=n.lines[0|c*n.scaleY*U],s=o.lines[0|c*o.scaleY*U],h=0;h<r;h++)T?(l=f[0|h*e.scaleX*B],y=a[0|h*n.scaleX*B],b=p(l+1.402*((v=s[0|h*o.scaleX*B])-128)),A=p(l-.3441363*(y-128)-.71413636*(v-128)),E=p(l+1.772*(y-128))):(b=f[0|h*e.scaleX*B],A=a[0|h*n.scaleX*B],E=s[0|h*o.scaleX*B]),C[k++]=b,C[k++]=A,C[k++]=E;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(T=!1,this.adobe&&this.adobe.transformCode?T=!0:void 0!==this.colorTransform&&(T=!!this.colorTransform),e=this.components[0],n=this.components[1],o=this.components[2],i=this.components[3],c=0;c<t;c++)for(f=e.lines[0|c*e.scaleY*U],a=n.lines[0|c*n.scaleY*U],s=o.lines[0|c*o.scaleY*U],u=i.lines[0|c*i.scaleY*U],h=0;h<r;h++)T?(l=f[0|h*e.scaleX*B],y=a[0|h*n.scaleX*B],v=s[0|h*o.scaleX*B],g=u[0|h*i.scaleX*B],d=255-p(l+1.402*(v-128)),w=255-p(l-.3441363*(y-128)-.71413636*(v-128)),m=255-p(l+1.772*(y-128))):(d=f[0|h*e.scaleX*B],w=a[0|h*n.scaleX*B],m=s[0|h*o.scaleX*B],g=u[0|h*i.scaleX*B]),C[k++]=255-d,C[k++]=255-w,C[k++]=255-m,C[k++]=255-g;break;default:throw new Error("Unsupported color mode")}return C},copyToImageData:function(r){var t,e,n,o,i,f,a,s,u,h=r.width,c=r.height,l=r.data,y=this.getData(h,c),v=0,g=0;switch(this.components.length){case 1:for(e=0;e<c;e++)for(t=0;t<h;t++)n=y[v++],l[g++]=n,l[g++]=n,l[g++]=n,l[g++]=255;break;case 3:for(e=0;e<c;e++)for(t=0;t<h;t++)a=y[v++],s=y[v++],u=y[v++],l[g++]=a,l[g++]=s,l[g++]=u,l[g++]=255;break;case 4:for(e=0;e<c;e++)for(t=0;t<h;t++)i=y[v++],f=y[v++],n=y[v++],a=255-p(i*(1-(o=y[v++])/255)+o),s=255-p(f*(1-o/255)+o),u=255-p(n*(1-o/255)+o),l[g++]=a,l[g++]=s,l[g++]=u,l[g++]=255;break;default:throw new Error("Unsupported color mode")}}},u}();t.exports=function(t,n){var o={useTArray:!1,colorTransform:!0};n?"object"==typeof n?n={useTArray:void 0===n.useTArray?o.useTArray:n.useTArray,colorTransform:void 0===n.colorTransform?o.colorTransform:n.colorTransform}:(n=o).useTArray=!0:n=o;var i=new Uint8Array(t),f=new e;f.parse(i),f.colorTransform=n.colorTransform;var a={width:f.width,height:f.height,data:n.useTArray?new Uint8Array(f.width*f.height*4):new r(f.width*f.height*4)};return f.copyToImageData(a),a}}).call(this,r("buffer").Buffer)},{buffer:2}],6:[function(r,t,e){(function(r){function e(t){Math.round;var e,n,o,i,f,a=Math.floor,s=new Array(64),u=new Array(64),h=new Array(64),c=new Array(64),l=new Array(65535),p=new Array(65535),y=new Array(64),v=new Array(64),g=[],d=0,w=7,m=new Array(64),b=new Array(64),A=new Array(64),E=new Array(256),T=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],x=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function S(r,t){for(var e=0,n=0,o=new Array,i=1;i<=16;i++){for(var f=1;f<=r[i];f++)o[t[n]]=[],o[t[n]][0]=e,o[t[n]][1]=i,n++,e++;e*=2}return o}function M(r){for(var t=r[0],e=r[1]-1;e>=0;)t&1<<e&&(d|=1<<w),e--,--w<0&&(255==d?(R(255),R(0)):R(d),w=7,d=0)}function R(r){g.push(r)}function j(r){R(r>>8&255),R(255&r)}function D(r,t,e,n,o){for(var i,f=o[0],a=o[240],s=function(r,t){var e,n,o,i,f,a,s,u,h,c,l=0;for(h=0;h<8;++h){e=r[l],n=r[l+1],o=r[l+2],i=r[l+3],f=r[l+4],a=r[l+5],s=r[l+6];var p=e+(u=r[l+7]),v=e-u,g=n+s,d=n-s,w=o+a,m=o-a,b=i+f,A=i-f,E=p+b,T=p-b,B=g+w,U=g-w;r[l]=E+B,r[l+4]=E-B;var k=.707106781*(U+T);r[l+2]=T+k,r[l+6]=T-k;var x=.382683433*((E=A+m)-(U=d+v)),C=.5411961*E+x,L=1.306562965*U+x,I=.707106781*(B=m+d),O=v+I,P=v-I;r[l+5]=P+C,r[l+3]=P-C,r[l+1]=O+L,r[l+7]=O-L,l+=8}for(l=0,h=0;h<8;++h){e=r[l],n=r[l+8],o=r[l+16],i=r[l+24],f=r[l+32],a=r[l+40],s=r[l+48];var S=e+(u=r[l+56]),M=e-u,R=n+s,j=n-s,D=o+a,X=o-a,Y=i+f,N=i-f,_=S+Y,z=S-Y,q=R+D,F=R-D;r[l]=_+q,r[l+32]=_-q;var H=.707106781*(F+z);r[l+16]=z+H,r[l+48]=z-H;var V=.382683433*((_=N+X)-(F=j+M)),J=.5411961*_+V,G=1.306562965*F+V,W=.707106781*(q=X+j),Q=M+W,Z=M-W;r[l+40]=Z+J,r[l+24]=Z-J,r[l+8]=Q+G,r[l+56]=Q-G,l++}for(h=0;h<64;++h)c=r[h]*t[h],y[h]=c>0?c+.5|0:c-.5|0;return y}(r,t),u=0;u<64;++u)v[B[u]]=s[u];var h=v[0]-e;e=v[0],0==h?M(n[0]):(M(n[p[i=32767+h]]),M(l[i]));for(var c=63;c>0&&0==v[c];c--);if(0==c)return M(f),e;for(var g,d=1;d<=c;){for(var w=d;0==v[d]&&d<=c;++d);var m=d-w;if(m>=16){g=m>>4;for(var b=1;b<=g;++b)M(a);m&=15}i=32767+v[d],M(o[(m<<4)+p[i]]),M(l[i]),d++}return 63!=c&&M(f),e}function X(r){if(r<=0&&(r=1),r>100&&(r=100),f!=r){(function(r){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],e=0;e<64;e++){var n=a((t[e]*r+50)/100);n<1?n=1:n>255&&(n=255),s[B[e]]=n}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var f=a((o[i]*r+50)/100);f<1?f=1:f>255&&(f=255),u[B[i]]=f}for(var l=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,y=0;y<8;y++)for(var v=0;v<8;v++)h[p]=1/(s[B[p]]*l[y]*l[v]*8),c[p]=1/(u[B[p]]*l[y]*l[v]*8),p++})(r<50?Math.floor(5e3/r):Math.floor(200-2*r)),f=r}}this.encode=function(t,f){(new Date).getTime();f&&X(f),g=new Array,d=0,w=7,j(65496),j(65504),j(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),j(1),j(1),R(0),R(0),function(){j(65499),j(132),R(0);for(var r=0;r<64;r++)R(s[r]);R(1);for(var t=0;t<64;t++)R(u[t])}(),function(r,t){j(65472),j(17),R(8),j(t),j(r),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(t.width,t.height),function(){j(65476),j(418),R(0);for(var r=0;r<16;r++)R(U[r+1]);for(var t=0;t<=11;t++)R(k[t]);R(16);for(var e=0;e<16;e++)R(x[e+1]);for(var n=0;n<=161;n++)R(C[n]);R(1);for(var o=0;o<16;o++)R(L[o+1]);for(var i=0;i<=11;i++)R(I[i]);R(17);for(var f=0;f<16;f++)R(O[f+1]);for(var a=0;a<=161;a++)R(P[a])}(),j(65498),j(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var a=0,l=0,p=0;d=0,w=7,this.encode.displayName="_encode_";for(var y,v,E,B,S,Y,N,_,z,q=t.data,F=t.width,H=t.height,V=4*F,J=0;J<H;){for(y=0;y<V;){for(Y=S=V*J+y,N=-1,_=0,z=0;z<64;z++)Y=S+(_=z>>3)*V+(N=4*(7&z)),J+_>=H&&(Y-=V*(J+1+_-H)),y+N>=V&&(Y-=y+N-V+4),v=q[Y++],E=q[Y++],B=q[Y++],m[z]=(T[v]+T[E+256>>0]+T[B+512>>0]>>16)-128,b[z]=(T[v+768>>0]+T[E+1024>>0]+T[B+1280>>0]>>16)-128,A[z]=(T[v+1280>>0]+T[E+1536>>0]+T[B+1792>>0]>>16)-128;a=D(m,h,a,e,o),l=D(b,c,l,n,i),p=D(A,c,p,n,i),y+=32}J+=8}if(w>=0){var G=[];G[1]=w+1,G[0]=(1<<w+1)-1,M(G)}return j(65497),new r(g)},function(){(new Date).getTime();t||(t=50),function(){for(var r=String.fromCharCode,t=0;t<256;t++)E[t]=r(t)}(),e=S(U,k),n=S(L,I),o=S(x,C),i=S(O,P),function(){for(var r=1,t=2,e=1;e<=15;e++){for(var n=r;n<t;n++)p[32767+n]=e,l[32767+n]=[],l[32767+n][1]=e,l[32767+n][0]=n;for(var o=-(t-1);o<=-r;o++)p[32767+o]=e,l[32767+o]=[],l[32767+o][1]=e,l[32767+o][0]=t-1+o;r<<=1,t<<=1}}(),function(){for(var r=0;r<256;r++)T[r]=19595*r,T[r+256>>0]=38470*r,T[r+512>>0]=7471*r+32768,T[r+768>>0]=-11059*r,T[r+1024>>0]=-21709*r,T[r+1280>>0]=32768*r+8421375,T[r+1536>>0]=-27439*r,T[r+1792>>0]=-5329*r}(),X(t),(new Date).getTime()}()}t.exports=function(r,t){void 0===t&&(t=50);return{data:new e(t).encode(r,t),width:r.width,height:r.height}}}).call(this,r("buffer").Buffer)},{buffer:2}]},{},[4])(4)}));